<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  
  <script>
var POWER_UP_NAME = 'custom fields lockdown';

window.TrelloPowerUp.initialize({
  'card-buttons': function(t, options) {
    return t.get('member', 'private', 'boardAdmins').then(function(boardAdmins) {
      // Get the list of board admins
      var isAdmin = boardAdmins.includes(t.getContext().member);

      // Check if the current member is a board admin
      if (isAdmin) {
        return [{
          icon: 'https://example.com/icon.png', // Replace with your icon URL
          text: 'Custom Fields',
          callback: function(t) {
            // Your button callback logic goes here
            t.alert({
              message: 'Button clicked by board admin!',
              display: 'info',
              duration: 3
            });
          },
        }];
      } else {
        return [];
      }
    });
  },
  'show-authorization': function(t, options) {
    // Authorization logic if needed
    return t.popup({
      title: 'Authorize ' + POWER_UP_NAME,
      url: './authorize.html',
      height: 140,
    });
  }
});

  </script>

</head>

<body>




  <script src="https://p.trellocdn.com/power-up.min.js"></script>
  <script>
    TrelloPowerUp.initialize({
      // Start adding handlers for your capabilities here!
      'card-buttons': function (t, options) {
        return [
          {
            icon: "https://i.ibb.co/6sbknH0/logo-stroke-32pt-style-2-no-stroke.png",
            text: 'Hello Big World!',
            callback: function (t) {
              return t.card().then((card) => alert("hello world! you're  totally awesome!"))
            }
          }
        ];
      },
    });
  </script>
</body>
</html>